<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html">
<head>
    <meta charset="UTF-8">
    <title>Character Creator</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/d674edf20f.js" crossorigin="anonymous"></script>
    <script src="../static/javascript/calculateAttribute.js" type="text/javascript"></script>
</head>

<script>
    function calculateAttribute(Attribute){
        var diceRoll = [4];
        var attributeValue = 0;

        for (let i = 0; i < 4; i++) {
            diceRoll[i] = Math.floor(Math.random() * 6);
        }

        diceRoll.sort(function (first, second) {
            return first - second;
        });

        for (let i = 0; i < 3; i++) {
            attributeValue += diceRoll[i];
        }

        Attribute.value = attributeValue;

        return;

    }
</script>


<body>

<header>
    <h4>DnD Character Creator</h4>
</header>

<h6 class="introduction">Welcome to Character Creator! In this form, you will be able to create a character by filling out a few fields and having the form roll for characteristics!</h6>
<form action="#" th:action="@{/saveCharacter}" method="post" th:object="${CharacterSheet}" id="characterForm">
    <div class="row">
        <div class="col-6 form-group bioLine">
            <label for="characterName">Character Name:</label>
            <input type="text" id="characterName" th:value="${characterSheet.getCharacterName()}" />
        </div>
        <div class="col-6 form-group bioLine">
            <label for="calculateStrength">Strength:</label>
            <input type="text" disabled="true" class="skillValue" id="Strength" th:field="*{strength}"/>
            <label for="calculateStrength" class="formButtons"><i class="fa-solid fa-dice-five"></i></label>
            <input class="hidden" type="button" id="calculateStrength" onclick="calculateAttribute(document.getElementById('Strength'))">
        </div>
        <div class="col-6 form-group bioLine">
            <label for="characterBio">Character Bio:</label>
            <input type="text" id="characterBio" />
        </div>
        <div class="col-6 form-group bioLine">
            <label for="calculateDexterity">Dexterity:</label>
            <input type="text" disabled="true" class="skillValue" id="Dexterity" th:field="*{dexterity}"/>
            <label for="calculateDexterity" class="formButtons"><i class="fa-solid fa-dice-five"></i></label>
            <input class="hidden" type="button" id="calculateDexterity" onclick="calculateAttribute(document.getElementById('Dexterity'))">
        </div>
        <div class="col-6 form-group bioLine">
            <label for="class">Character Class:</label>
            <select id="class">
                <option value="default">&#45;&#45;Select&#45;&#45;</option>
                <option value="barbarian">Barbarian</option>
                <option value="bard">Bard</option>
                <option value="cleric">Cleric</option>
                <option value="ranger">Ranger</option>
                <option value="wizard">Wizard</option>
            </select>
        </div>
        <div class="col-6 form-group bioLine">
            <label for="calculateConstitution">Constitution:</label>
            <input type="text" disabled="true" class="skillValue" id="Constitution" th:field="*{constitution}"/>
            <label for="calculateConstitution" class="formButtons"><i class="fa-solid fa-dice-five"></i></label>
            <input class="hidden" type="button" id="calculateConstitution" onclick="calculateAttribute(document.getElementById('Constitution'))">
        </div>
        <div class="col-6 form-group bioLine">
            <label for="race">Character Race:</label>
            <select id="race">
                <option value="default">&#45;&#45;Select&#45;&#45;</option>
                <option value="dwarf">Dwarf</option>
                <option value="elf">Elf</option>
                <option value="human">Human</option>
                <option value="halfling">Halfling</option>
                <option value="Gnome">Gnome</option>
            </select>
            </select>
        </div>
        <div class="col-6 form-group bioLine">
            <label for="calculateIntelligence">Intelligence:</label>
            <input type="text" disabled="true" class="skillValue" id="Intelligence" th:field="*{intelligence}"/>
            <label for="calculateIntelligence" class="formButtons"><i class="fa-solid fa-dice-five"></i></label>
            <input class="hidden" type="button" id="calculateIntelligence" onclick="calculateAttribute(document.getElementById('Intelligence'))">
        </div>
        <div class = "col-6 bioLine">
        </div>
        <div class="col-6 form-group bioLine">
            <label for="calculateWisdom">Wisdom:</label>
            <input type="text" disabled="true" class="skillValue" id="Wisdom" th:field="*{wisdom}"/>
            <label for="calculateWisdom" class="formButtons"><i class="fa-solid fa-dice-five"></i></label>
            <input class="hidden" type="button" id="calculateWisdom" onclick="calculateAttribute(document.getElementById('Wisdom'))">
        </div>
        <div class = "col-6 bioLine">
        </div>
        <div class="col-6 form-group bioLine">
            <label for="calculateCharisma">Charisma:</label>
            <input type="text" disabled="true" class="skillValue"  id="Charisma" th:field="*{charisma}"/>
            <label for="calculateCharisma" class="formButtons"><i class="fa-solid fa-dice-five"></i></label>
            <input class="hidden" type="button" id="calculateCharisma" onclick="calculateAttribute(document.getElementById('Charisma'))">
        </div>
    </div>
    <div class="row justify-content-center bottom-buttons">
        <div class="col-6">
            <button class="formButtons"><i class="fa-solid fa-floppy-disk"></i></button>
            <button class="formButtons" onclick="location.href='viewCharacters.html'">View Characters</button>
            <button class="formButtons" onclick="window.print()"><i class="fa-solid fa-print"></i></button>

        </div>
    </div>
</form>

</body>
</html>